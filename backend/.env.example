# ============================================
# DealersCloud Backend Environment Configuration
# ============================================
# SECURITY WARNING: Never commit actual secrets to version control!
# Copy this file to .env and fill in your actual values

# ============================================
# SERVER CONFIGURATION
# ============================================
NODE_ENV=development                    # Options: development, staging, production
PORT=5000                               # Server port

# ============================================
# SECURITY - REQUIRED (NO DEFAULTS)
# ============================================
# CRITICAL: Generate strong, unique secrets for production!
# Use: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

JWT_SECRET=                             # REQUIRED: Min 32 chars, use generated secret
JWT_REFRESH_SECRET=                     # REQUIRED: Min 32 chars, use generated secret
SESSION_SECRET=                         # REQUIRED in production: Min 32 chars

# JWT Token Expiration
JWT_EXPIRES_IN=24h                     # Access token expiration
JWT_REFRESH_EXPIRES_IN=7d              # Refresh token expiration

# Password Hashing
BCRYPT_ROUNDS=12                       # Number of bcrypt rounds (10-15 recommended)

# Session Security
SESSION_TIMEOUT_HOURS=24               # Session timeout in hours
MAX_LOGIN_ATTEMPTS=5                   # Max failed login attempts before lockout
LOCKOUT_DURATION_MINUTES=30            # Account lockout duration

# ============================================
# DATABASE CONFIGURATION
# ============================================
# Option 1: Connection URL
DATABASE_URL=                           # e.g., mssql://user:pass@host:1433/database

# Option 2: Individual settings
DATABASE_HOST=                         # e.g., localhost or your-server.database.windows.net
DATABASE_PORT=1433                     # Default SQL Server port
DATABASE_NAME=                         # Database name
DATABASE_USER=                         # Database username
DATABASE_PASSWORD=                     # Database password

# ============================================
# REDIS CACHE (Optional but recommended)
# ============================================
REDIS_URL=                             # e.g., redis://user:pass@host:6379
REDIS_HOST=                            # e.g., localhost
REDIS_PORT=6379                        # Default Redis port
REDIS_PASSWORD=                        # Redis password (if required)

# ============================================
# EMAIL SERVICE (Required for production)
# ============================================
SMTP_HOST=                             # e.g., smtp.sendgrid.net
SMTP_PORT=587                          # SMTP port (587 for TLS, 465 for SSL)
SMTP_USER=                             # SMTP username
SMTP_PASSWORD=                         # SMTP password
SMTP_FROM_EMAIL=                       # e.g., noreply@dealerscloud.com
SMTP_FROM_NAME=DealersCloud            # Sender name

# ============================================
# AWS S3 (For file uploads)
# ============================================
AWS_REGION=                            # e.g., us-east-1
AWS_ACCESS_KEY_ID=                    # AWS access key
AWS_SECRET_ACCESS_KEY=                 # AWS secret key
AWS_S3_BUCKET=                        # S3 bucket name

# ============================================
# CLIENT URLS
# ============================================
CLIENT_URL=http://localhost:3000       # Frontend URL
MOBILE_APP_URL=                        # Mobile app URL (if applicable)

# ============================================
# CORS CONFIGURATION
# ============================================
CORS_ALLOWED_ORIGINS=                  # Comma-separated list of allowed origins

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_WINDOW_MS=900000            # Rate limit window (15 min = 900000ms)
RATE_LIMIT_MAX_REQUESTS=100            # Max requests per window

# ============================================
# THIRD-PARTY API KEYS (Optional)
# ============================================
# Vehicle History Reports
CARFAX_API_KEY=                        # Carfax API key
AUTOCHECK_API_KEY=                     # AutoCheck API key

# Google Services
GOOGLE_MAPS_API_KEY=                   # Google Maps API key

# SMS/Communication
TWILIO_ACCOUNT_SID=                    # Twilio Account SID
TWILIO_AUTH_TOKEN=                     # Twilio Auth Token
TWILIO_PHONE_NUMBER=                   # Twilio phone number (e.g., +1234567890)

# ============================================
# LOGGING & MONITORING
# ============================================
LOG_LEVEL=info                         # Options: error, warn, info, debug
LOG_FILE_PATH=./logs                   # Path for log files

# Error Tracking (Optional)
SENTRY_DSN=                            # Sentry DSN for error tracking
NEW_RELIC_LICENSE_KEY=                 # New Relic license key

# ============================================
# SECURITY NOTES
# ============================================
# 1. NEVER commit this file with actual values to version control
# 2. Use strong, randomly generated secrets (min 32 characters)
# 3. Rotate secrets regularly (every 90 days recommended)
# 4. Use different secrets for each environment (dev, staging, prod)
# 5. Enable audit logging for all secret access
# 6. Use a secrets management service in production (AWS Secrets Manager, Azure Key Vault, etc.)

# ============================================
# GENERATING SECURE SECRETS
# ============================================
# Run these commands to generate secure secrets:
#
# For JWT_SECRET:
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
# For JWT_REFRESH_SECRET:
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
# For SESSION_SECRET:
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"